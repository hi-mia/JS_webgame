<h2>단원 마무리</h2>

<p>1. 고차 함수 사용하기</p>
고차 함수(high order function): 함수를 호출할 때마다 반환 함수를 생성하는 함수

함수는 호출하면 어떤 값을 반환하는데, 이 반환 값은 자바스크립트의 모든 자료형이 될 수 있음
-> 함수가 함수를 반환 가능

반환된 함수는 다른 변수에 저장할 수 있고 변수에 저장된 함수를 다시 호출 가능

<script>
    const func = () => {
        return() => {
            console.log('hello');
        };
    }; //func 함수를 호출하면 함수를 반환
</script>

반환된 함수는 다른 변수에 저장할 수 있고, 그 변수에 저장된 함수를 다시 호출할 수 있음

<script>
    const innerFunc = func();
    innerFunc(); //hello
</script>

반환하는 값을 바꾸고 싶을 때는 매개변수 사용

<script>
    const func = (msg) => {
        return () => {
            console.log(msg);
        };
    };
</script>

화살표 함수 문법에 따라 함수의 본문에서는 바로 반환되는 값이 있으면 {와 return 생략 가능
<script>
    const func = (msg) => {
        return () => {
            console.log(msg);
        };
    };

    const func = (msg) => () => {
        console.log(msg);
    }; //둘 다 같은 함수


//------------------------------------
    const onClickNumber = (number) => (event) => {
        if(operator) {
            numTwo += number;
        } else {
            numOne += number;
        }
        $result.value += number;
    };


    const onClickNumber = (number) => {
        return (event) => {
            if(operator) {
                numTwo += number;
            } else {
                numOne += number;
            }
            $result.value += number;
        }
    }; //둘 다 같은 함수
    
</script>


<p>2. if문 중첩 제거하기</p>
1) 공통된 절차를 각 분기점 내부에 넣는다
2) 분기점에서 짧은 절차부터 실행하게 if문을 작성한다
3) 짧은 절차가 끝나면 return(함수 내부의 경우) 이나 break(for문 내부의 경우)로 중단한다
4) else를 제거한다(이때 중첩 하나가 제거된다)
5) 다음 중첩된 분기점이 나올 때 1~4의 과정을 반복한다


<p>eval 사용하기</p>
eval 함수: 문자열을 자바스크립트 코드처럼 실행

<script>
//eval 함수는 편리하지만 보안상 이유 때문에 사용을 피하는 것이 권장됨

eval('1' + '2'); //3

document.querySelector('#calculate').addEventListener('click', () => {
    if(numTwo) {
        $result.value = eval(numOne + operator + numTwo);
    }else {
        alert('숫자를 먼저 입력하세요.');
    }
});
</script>